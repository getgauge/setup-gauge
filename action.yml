name: 'Setup Gauge'
description: 'Setup your Github Actions runner with Gauge CLI'
branding:
  icon: 'play'
  color: 'gray-dark'
inputs:
  gauge-version:
    description: 'Version of gauge release, if not entered will use latest.'
    required: false
  gauge-plugins:
    description: 'Plugins needs to be installed along with gauge. if not entered only gauge will be installed'
    required: false
runs:
  using: 'composite'
  steps:
    - name: Checkout getgauge@master
      if: inputs.gauge-version == 'master'
      uses: actions/checkout@v4
      with:
        repository: 'getgauge/gauge'
        ref: 'master'
        path: "${{ runner.temp }}/gauge_master"
    - name: Install Go
      if: inputs.gauge-version == 'master'
      uses: actions/setup-go@v5
      with:
        check-latest: true
        go-version-file: "${{ runner.temp }}/gauge_master/go.mod"
        cache-dependency-path: "${{ runner.temp }}/gauge_master/go.sum"
    - name: Install Gauge
      shell: bash
      run: node dist/index.js